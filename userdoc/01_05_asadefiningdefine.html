
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
    <head>
<!-- %INCLUDE% common.html -->
        <title>Eq - as a defining define for your definitions</title>
    </head>
    <body>
<!-- %INCLUDE% header.html -->
        <div class="whole">
            <h2>Eq as a defining define for your definitions</h2>

            <p>
                From now on, we will show definitions stored in files. You
                still can use the expression only definition, but it's going
                to be limited
            </p>

            <div class="section">
                <h3><a name="definition">Definition</a></h3>
                <p>
                    Let's get things started slowly by <i>binding</i> a variable and
                    using it.
                </p>
<!-- %% cat var_bind.txt -->
<!-- %%% -->

<!-- %% eq eval -f var_bind.txt -->
<!-- %%% -->
                <p>
                    The <code>:=</code> operator let you set the value of a variable.
                The right and side of the operator (3 here), is evaluated at the definition
                site.
                </p>
                <p>
                    The <code>;</code> separate all your definitions. Only the value of the last
                    expression is displayed. During the evaluation of an expression if a variable
                    is found, we check if it's bound, if it is, we replace the variable by the
                    bound value and continue evaluation.
                </p>
            </div>
            <div class="section">
                <h3><a name="fundef">Function Definition</a></h3>
                <p>
                    You can define function the same way than variable, but using a
                    slightly different syntax.
                </p>
<!-- %% cat fun_def.txt -->
<!-- %%% -->

<!-- %% eq eval -f fun_def.txt -->
<!-- %%% -->
                <p>
                    It's possible to have function with multiple parameters too
                </p>
<!-- %% cat fun_multi.txt -->
<!-- %%% -->

<!-- %% eq eval -f fun_multi.txt -->
<!-- %%% -->
            </div>
            <div class="section">
                <h3><a name="unification">Unification</a></h3>
                <p>
                    You may now want to define functions with many if to change behaviour
                    of your definitions and everything. Sad news, there is no <code>if</code>,
                    no <code>while</code> and no <code>for</code> in <i>Eq Language</i>. But
                    the language provide an other mean to control behaviour. It's the power of...
                </p>
                <h1>Unification</h1>
                <p>
                    We are now going to define a function whose behaviour change in function
                    of the value of it's parameters.
                </p>
<!-- %% cat fun_unif1.txt -->
<!-- %%% -->

<!-- %% eq eval -f fun_unif1.txt -->
<!-- %%% -->
                <p>
                    In the first call <code>uniftest</code> try to unify the first argument (here 3)
                    with it's first pattern (here 3, also, nice). As these two value <i>Unify</i> it then
                    continue with the variable <code>a</code>. As a is a variable, it can unify with
                    anything at least once. So the first definition of the <code>uniftest</code>
                    unify with the given parameters so <code>2 * a</code> is returned but <code>a</code>
                    is substituted by <code>12</code>.
                </p>
                <p>
                    For the second call to <code>uniftest</code> We try to unify 1 to 3, which can't work.
                    So we jump to the second definition and by the same principle, <code>2 * 2</code>
                    is returned.
                </p>
                <p>
                    The rule for choosing function definition is to take the first definition which
                    match the given argument. So definition order matters.
                </p>
            </div>
            <div class="section">
                <h3><a name="ifcreation">Creating a if</a></h3>
                <p>
                    We now have all the tools necessary to create a <code>if</code> construct
                    by ourselves. By using a specific value to determine which definition of the
                    function to choose, we can write it easily.
                </p>
<!-- %% cat if_example.txt -->
<!-- %%% -->

<!-- %% eq eval -f if_example.txt -->
<!-- %%% -->
                <p>For the french reader only : "The yes need the no to win against the no" (JP Raffarin)</p>
                <p>
                That was easy. When you find a <code>--</code> token, the rest of the line is considered
                as a comment. You can write <code>{- multiline comment like in this sample -}</code>.
                It's time to introduce you to some special values :
                    <ul>
                        <li>true</li>
                        <li>false</li>
                    </ul>
                    Which are the <i>boolean</i> values. All comparisons operators generate a boolean value.
                    So to define an if, it's a good thing to use them. The if got a third case, which is a bit
                    weird. In a normal utilisation, an <code>if</code> should always use boolean value as first
                    argument (the <i>conditional</i> argument. The reason of this definition need an example :
                </p>
<!-- %% cat pattern_failure.txt -->
<!-- %%% -->

<!-- %% eq eval -f pattern_failure.txt -->
<!-- %%% -->
                <p>
                    Your first unification error. Cute isn't it? So instead of getting a harsh crash,
                    we return the variable <code>undefined</code>, which can help you to reuse some result later.
                    You can bound the <code>undefined</code> variable like any other variable.
                </p>
                <p>
                    Before I told you that the <i>Eq Language</i> didn't possess an if construct. I have
                    to admit that I lied a bit. There is an if function, defined in the standard library.
                    You can read the standard library (which is rather thin at the moment), but if you
                    modify it the modification won't be taken into account.
                </p>
                <p>
                    To learn how to loop and perform some more advanced stuff, jump to the next
                    section.
                </p>
            </div>
        </div>
<!-- %INCLUDE% footer.html -->
    </body>
</html>
