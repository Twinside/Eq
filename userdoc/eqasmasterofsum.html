<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
    <head>
<!-- %INCLUDE% common.html -->
        <title>Eq - as a master of sum</title>
    </head>
    <body>
<!-- %INCLUDE% header.html -->
        <div class="whole">
            <h2>Eq as a master of sum (and Eq as your favorite product)</h2>

            <div class="section">
                <p>
                    The <i>Eq Language</i> provide a sum (and a product) function, which can be abused
                    in some ways. It's a good to know how to pervert it and how to get
                    it straight otherwise.
                </p>
            </div>
            <div class="section">
                <h3><a name="sumformat">Sum for formatting</a></h3>
                <p>
                    When you use a sum (or a product) in formatting, there isn't any rules.
                    You must at least give it an expression as parameter. If you add more
                    parameters, they will be used as bounds for the sum.
                </p>
<!-- %% eq format "sum( k )" -->
<!-- %%% -->
                <p>
                    The last parameter is allways the summed expression.
                </p>
<!-- %% eq format "sum( a, k )" -->
<!-- %%% -->

                <p>
                    Here whe use the product function. Both function work the same way
                </p>
<!-- %% eq format "product( a, b, k )" -->
<!-- %%% -->
                <p>
                    If you use to many parameters, your sum (or product is invalid), and
                    will not be formatted.
                </p>
<!-- %% eq format "sum( a, b, c, k )" -->
<!-- %%% -->
            </div>
            <div class="section">
                <h3><a name="sumeval">Sum for evaluation</a></h3>
                <p>
                    For a successful evaluation of sum, certain rules must be followed :
                    <ol>
                        <li>All bounds must be defined.</li>
                        <li>A variable must be used in the lowerbound and given an equality.</li>
                        <li>Lower bound (given as equality) and upper bound must be integral.</li>
                    </ol>

                    The first rule is really simple to test :
                </p>
<!-- %% eq eval "sum( 3 )" -->
<!-- %%% -->
                <p>
                    As you see, no evaluation has happened. To understand the second and third rules,
                    we ha ve to see a working example.
                </p>
<!-- %% eq eval "1 + sum( n = 1, 4, x ^ n / n! )" -->
<!-- %%% -->
                <p>
                    By using <code>n = 1</code> we tell the evaluator to use <code>n</code> as the iteration
                    variable. We also tell it to start at 1. The upper bound tell to stop after 4. As you
                    can see the bounds are integers, there is no point in the number. As an exemple, by
                    slightly modifying the previous example, we obtain the following result :
                </p>
<!-- %% eq eval "1 + sum( n = 1, 4.0, x ^ n / n! )" -->
<!-- %%% -->
                <p>
                    The floating point version of 4 stop the evaluator to perform some more processing.
                    As some may have noticed, the previous samples are the taylor expension of the
                    exponential function in 0.
                </p>
            </div>
            <div class="section">
                <h3><a name="producteval">Product for evaluation</a></h3>
                <p>
                    The same rules apply for the product, this section is just
                    here to provide a working example
                </p>
<!-- %% eq eval "product( n = 1, 10, n )" -->
<!-- %%% -->
<!-- %% eq eval "product( n = 1, 10, n ) = 10!" -->
<!-- %%% -->
        </div>
<!-- %INCLUDE% footer.html -->
    </body>
</html>

